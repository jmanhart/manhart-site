---
import BaseHead from "../components/BaseHead.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../config";
import Header from "../components/Header.astro";
import FormGroup from "../components/FormGroup.astro";
import ErrorBoundary from "../components/ErrorBoundary.astro";
---

<html lang="en">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
  </head>
  <body>
    <Header />
    <ErrorBoundary />
    <div class="sub-page-wrapper">
      <div class="root-content text-page">
        <div>
          <h2>Get in Touch</h2>
        </div>
        <p>
          Have a question or want to work together? I'd love to hear from you.
        </p>
        <FormGroup />
        
      </div>
    </div>

    <script>
      // Import Sentry utilities
      import { captureError, captureMessage, startTransaction, addBreadcrumb, trackFormSubmission } from '../utils/sentry.js';

      // Test error monitoring
      function testError() {
        console.log('ðŸ§ª Testing Sentry error capture...');
        try {
          throw new Error('This is a test error for Sentry');
        } catch (error) {
          captureError(error as Error, { 
            context: 'Sentry test',
            testType: 'manual-error'
          });
        }
        alert('Error sent to Sentry! Check your dashboard.');
      }

      // Test message capture
      function testMessage() {
        console.log('ðŸ§ª Testing Sentry message capture...');
        captureMessage('This is a test message from the contact page', 'info');
        alert('Message sent to Sentry! Check your dashboard.');
      }

      // Test performance monitoring
      function testPerformance() {
        console.log('ðŸ§ª Testing Sentry performance monitoring...');
        const transaction = startTransaction('Test Performance Transaction', 'test');
        
        // Simulate some work
        setTimeout(() => {
          transaction.finish();
          alert('Performance transaction sent to Sentry! Check your dashboard.');
        }, 1000);
      }

      // Test breadcrumbs
      function testBreadcrumb() {
        console.log('ðŸ§ª Testing Sentry breadcrumbs...');
        addBreadcrumb('User clicked test button', 'user-action', {
          button: 'test-breadcrumb',
          page: 'contact'
        });
        alert('Breadcrumb added! Check your dashboard.');
      }

      // Test form submission tracking
      function testFormSubmission() {
        console.log('ðŸ§ª Testing Sentry form tracking...');
        trackFormSubmission('test-form', true);
        alert('Form submission tracked! Check your dashboard.');
      }
    </script>
  </body>
</html> 